import{_ as m}from"./Ck4UbySV.js";import{G as h,ac as J,ad as F,ae as N,r as T,f as g,H as X,o as i,x as w,y as I,d as A,I as E,J as r,K as t,aa as B,w as L,c as $,A as U,a8 as j,C as G,D as K,F as V,a9 as Q,a6 as W,af as Y,t as Z,ag as R}from"./aB8ygRKp.js";import{K as _}from"./DbCR8B0k.js";import{s as x}from"./CFvUfcT_.js";import{s as ee}from"./cfk8qS3U.js";const te=["onDblclick"],q=1,O=5,ae=7,re=h({__name:"BasePagination",props:J({itemsAmount:{}},{page:{required:!0},pageModifiers:{},amountOnPage:{required:!0},amountOnPageModifiers:{}}),emits:["update:page","update:amountOnPage"],setup(c){const n=F(c,"page"),v=F(c,"amountOnPage"),b=N("input"),u=T(""),o=g(()=>Math.ceil(c.itemsAmount/v.value)),f=g(()=>{let e=n.value-q,a=n.value+q;const p=o.value<=ae,C=n.value<=O-1,y=o.value-n.value<=O-2;C&&(e=1,a=O),y&&(a=o.value,e=o.value-O+1),p&&(e=1,a=o.value);const d=[];(!C||y)&&d.push("start"),y||d.push("end"),p&&(d.length=0);const s=[];for(let S=e;S<=a;S++)s.push(S);return{withFirst:d[0]==="start",withLast:d.at(-1)==="end",pages:s,skipPos:d}}),k=T("");async function z(e){var a;k.value=e,await Y(),(a=b.value)==null||a.focus()}function M(e,a){e!==n.value&&(n.value=e)}function H(){const e=+u.value;D(),!(e>o.value||e===n.value)&&(n.value=e)}function D(){k.value="",u.value=""}const l=X("BasePagination");return(e,a)=>{const p=Z,C=ee,y=x,d=_;return i(),w(y,{rows:v.value,"onUpdate:rows":a[5]||(a[5]=s=>v.value=s),"total-records":e.itemsAmount,"always-show":!1},{container:I(()=>[A("div",{class:r(t(l)())},[E(p,{class:r(["p-paginator-prev",t(l)("controlButton",("bMod"in e?e.bMod:t(m))("first",{disabled:n.value===0}))]),onClick:a[0]||(a[0]=B(s=>M(n.value-1),["prevent","stop"]))},{default:I(()=>a[6]||(a[6]=[A("span",{class:"pi pi-angle-left"},null,-1)])),_:1},8,["class"]),A("div",{class:r(t(l)("container"))},[t(f).withFirst?(i(),w(p,{key:0,class:r(["p-paginator-page",t(l)("pageButton",("bMod"in e?e.bMod:t(m))("first",{selected:n.value===0}))]),label:"1",onClick:a[1]||(a[1]=B(s=>M(0),["prevent","stop"]))},null,8,["class"])):L("",!0),(i(!0),$(V,null,U(t(f).pages,(s,P)=>(i(),w(p,{class:r(["p-paginator-page",t(l)("pageButton",{selected:n.value===s})]),key:s,style:j(`--order: ${P+2}`),label:`${s}`,onClick:B(S=>M(s),["prevent","stop"])},{default:I(()=>[G(K(s),1)]),_:2},1032,["class","style","label","onClick"]))),128)),t(f).withLast?(i(),w(p,{key:1,class:r(["p-paginator-page",t(l)("pageButton",("bMod"in e?e.bMod:t(m))("last",{selected:n.value===t(o)}))]),label:`${t(o)}`,onClick:a[2]||(a[2]=B(s=>M(t(o)),["prevent","stop"]))},{default:I(()=>[G(K(t(o)),1)]),_:1},8,["label","class"])):L("",!0),(i(!0),$(V,null,U(t(f).skipPos,s=>(i(),$(V,{key:s},[t(k)!==s?(i(),$("span",{key:0,class:r(t(l)("skipper",("bMod"in e?e.bMod:t(m))(s))),onDblclick:P=>z(s)},"...",42,te)):Q((i(),w(C,{key:1,modelValue:t(u),"onUpdate:modelValue":a[3]||(a[3]=P=>W(u)?u.value=P:null),ref_for:!0,ref:"input",class:r(t(l)("skipperInput",("bMod"in e?e.bMod:t(m))(s))),onBlur:D,onConfirm:H},null,8,["modelValue","class"])),[[d,void 0,void 0,{int:!0}]])],64))),128))],2),E(p,{class:r(["p-paginator-next",t(l)("controlButton",("bMod"in e?e.bMod:t(m))("last",{disabled:n.value===t(o)}))]),onClick:a[4]||(a[4]=B(s=>M(n.value+1),["prevent","stop"]))},{default:I(()=>a[7]||(a[7]=[A("span",{class:"pi pi-angle-right"},null,-1)])),_:1},8,["class"])],2)]),_:1},8,["rows","total-records"])}}});function ue(c,n){const v=T(1),b=T(n),u=g(()=>(v.value-1)*b.value),o=g(()=>u.value+b.value),f=g(()=>R(c).length),k=g(()=>R(c).slice(u.value,o.value));return{page:v,itemsPerPage:b,itemsAmount:f,displayedItems:k}}export{re as _,ue as u};
