import{K as z}from"./F8oS87fZ.js";import{s as G}from"./BFdwlbB7.js";import{s as N}from"./Dv5TWZa9.js";import{I as h,ac as H,ad as V,ae as X,r as b,f as m,K as j,o as i,x as I,y as B,d as $,N as D,L as r,M as a,aa as C,w as F,c as M,A as _,a8 as J,C as E,D as L,F as x,a9 as Q,a6 as W,af as Y,t as Z,ag as U}from"./B3p8pC_U.js";const ee=["onDblclick"],K=1,O=5,te=7,oe=h({__name:"BasePagination",props:H({itemsAmount:{}},{page:{required:!0},pageModifiers:{},amountOnPage:{required:!0},amountOnPageModifiers:{}}),emits:["update:page","update:amountOnPage"],setup(v){const s=V(v,"page"),d=V(v,"amountOnPage"),g=X("input"),u=b(""),l=m(()=>Math.ceil(v.itemsAmount/d.value)),f=m(()=>{let n=s.value-K,e=s.value+K;const p=l.value<=te,S=s.value<=O-1,P=l.value-s.value<=O-2;S&&(n=1,e=O),P&&(e=l.value,n=l.value-O+1),p&&(n=1,e=l.value);const c=[];(!S||P)&&c.push("start"),P||c.push("end"),p&&(c.length=0);const t=[];for(let A=n;A<=e;A++)t.push(A);return{withFirst:c[0]==="start",withLast:c.at(-1)==="end",pages:t,skipPos:c}}),k=b("");async function R(n){var e;k.value=n,await Y(),(e=g.value)==null||e.focus()}function y(n,e){n!==s.value&&(s.value=n)}function q(){const n=+u.value;T(),!(n>l.value||n===s.value)&&(s.value=n)}function T(){k.value="",u.value=""}const o=j("BasePagination");return(n,e)=>{const p=Z,S=N,P=G,c=z;return i(),I(P,{rows:d.value,"onUpdate:rows":e[5]||(e[5]=t=>d.value=t),"total-records":n.itemsAmount,"always-show":!1},{container:B(()=>[$("div",{class:r(a(o)())},[D(p,{class:r(["p-paginator-prev",a(o)("controlButton",["first"],{disabled:s.value===0})]),onClick:e[0]||(e[0]=C(t=>y(s.value-1),["prevent","stop"]))},{default:B(()=>e[6]||(e[6]=[$("span",{class:"pi pi-angle-left"},null,-1)])),_:1},8,["class"]),$("div",{class:r(a(o)("container"))},[a(f).withFirst?(i(),I(p,{key:0,class:r(["p-paginator-page",a(o)("pageButton",["first"],{selected:s.value===0})]),label:"1",onClick:e[1]||(e[1]=C(t=>y(0),["prevent","stop"]))},null,8,["class"])):F("",!0),(i(!0),M(x,null,_(a(f).pages,(t,w)=>(i(),I(p,{class:r(["p-paginator-page",a(o)("pageButton",{selected:s.value===t})]),key:t,style:J(`--order: ${w+2}`),label:`${t}`,onClick:C(A=>y(t),["prevent","stop"])},{default:B(()=>[E(L(t),1)]),_:2},1032,["class","style","label","onClick"]))),128)),a(f).withLast?(i(),I(p,{key:1,class:r(["p-paginator-page",a(o)("pageButton",["last"],{selected:s.value===a(l)})]),label:`${a(l)}`,onClick:e[2]||(e[2]=C(t=>y(a(l)),["prevent","stop"]))},{default:B(()=>[E(L(a(l)),1)]),_:1},8,["label","class"])):F("",!0),(i(!0),M(x,null,_(a(f).skipPos,t=>(i(),M(x,{key:t},[a(k)!==t?(i(),M("span",{key:0,class:r(a(o)("skipper",[t])),onDblclick:w=>R(t)},"...",42,ee)):Q((i(),I(S,{key:1,modelValue:a(u),"onUpdate:modelValue":e[3]||(e[3]=w=>W(u)?u.value=w:null),ref_for:!0,ref:"input",class:r(a(o)("skipperInput",[t])),onBlur:T,onConfirm:q},null,8,["modelValue","class"])),[[c,void 0,void 0,{int:!0}]])],64))),128))],2),D(p,{class:r(["p-paginator-next",a(o)("controlButton",["last"],{disabled:s.value===a(l)})]),onClick:e[4]||(e[4]=C(t=>y(s.value+1),["prevent","stop"]))},{default:B(()=>e[7]||(e[7]=[$("span",{class:"pi pi-angle-right"},null,-1)])),_:1},8,["class"])],2)]),_:1},8,["rows","total-records"])}}});function ie(v,s){const d=b(1),g=b(s),u=m(()=>(d.value-1)*g.value),l=m(()=>u.value+g.value),f=m(()=>U(v).length),k=m(()=>U(v).slice(u.value,l.value));return{page:d,itemsPerPage:g,itemsAmount:f,displayedItems:k}}export{oe as _,ie as u};
