import{K as h}from"./CcEMfS-n.js";import{s as q}from"./BwseTwQa.js";import{s as z}from"./DsNtq4vj.js";import{G as H,ad as J,ae as V,af as N,r as M,f as m,I as X,o as i,x as I,y as B,d as O,O as D,J as r,K as a,ab as C,w as F,c as $,A as _,a9 as j,C as E,D as L,F as x,aa as Q,a8 as W,ag as Y,t as Z,ah as U}from"./BU1ATpM-.js";const ee=["onDblclick"],G=1,b=5,te=7,oe=H({__name:"BasePagination",props:J({itemsAmount:{}},{page:{required:!0},pageModifiers:{},amountOnPage:{required:!0},amountOnPageModifiers:{}}),emits:["update:page","update:amountOnPage"],setup(v){const s=V(v,"page"),d=V(v,"amountOnPage"),g=N("input"),u=M(""),l=m(()=>Math.ceil(v.itemsAmount/d.value)),f=m(()=>{let n=s.value-G,e=s.value+G;const p=l.value<=te,S=s.value<=b-1,P=l.value-s.value<=b-2;S&&(n=1,e=b),P&&(e=l.value,n=l.value-b+1),p&&(n=1,e=l.value);const c=[];(!S||P)&&c.push("start"),P||c.push("end"),p&&(c.length=0);const t=[];for(let A=n;A<=e;A++)t.push(A);return{withFirst:c[0]==="start",withLast:c.at(-1)==="end",pages:t,skipPos:c}}),k=M("");async function K(n){var e;k.value=n,await Y(),(e=g.value)==null||e.focus()}function y(n,e){n!==s.value&&(s.value=n)}function R(){const n=+u.value;T(),!(n>l.value||n===s.value)&&(s.value=n)}function T(){k.value="",u.value=""}const o=X("BasePagination");return(n,e)=>{const p=Z,S=z,P=q,c=h;return i(),I(P,{rows:d.value,"onUpdate:rows":e[5]||(e[5]=t=>d.value=t),"total-records":n.itemsAmount,"always-show":!1},{container:B(()=>[O("div",{class:r(a(o)())},[D(p,{class:r(["p-paginator-prev",a(o)("controlButton",["first"],{disabled:s.value===0})]),onClick:e[0]||(e[0]=C(t=>y(s.value-1),["prevent","stop"]))},{default:B(()=>e[6]||(e[6]=[O("span",{class:"pi pi-angle-left"},null,-1)])),_:1},8,["class"]),O("div",{class:r(a(o)("container"))},[a(f).withFirst?(i(),I(p,{key:0,class:r(["p-paginator-page",a(o)("pageButton",["first"],{selected:s.value===0})]),label:"1",onClick:e[1]||(e[1]=C(t=>y(0),["prevent","stop"]))},null,8,["class"])):F("",!0),(i(!0),$(x,null,_(a(f).pages,(t,w)=>(i(),I(p,{class:r(["p-paginator-page",a(o)("pageButton",{selected:s.value===t})]),key:t,style:j(`--order: ${w+2}`),label:`${t}`,onClick:C(A=>y(t),["prevent","stop"])},{default:B(()=>[E(L(t),1)]),_:2},1032,["class","style","label","onClick"]))),128)),a(f).withLast?(i(),I(p,{key:1,class:r(["p-paginator-page",a(o)("pageButton",["last"],{selected:s.value===a(l)})]),label:`${a(l)}`,onClick:e[2]||(e[2]=C(t=>y(a(l)),["prevent","stop"]))},{default:B(()=>[E(L(a(l)),1)]),_:1},8,["label","class"])):F("",!0),(i(!0),$(x,null,_(a(f).skipPos,t=>(i(),$(x,{key:t},[a(k)!==t?(i(),$("span",{key:0,class:r(a(o)("skipper",[t])),onDblclick:w=>K(t)},"...",42,ee)):Q((i(),I(S,{key:1,modelValue:a(u),"onUpdate:modelValue":e[3]||(e[3]=w=>W(u)?u.value=w:null),ref_for:!0,ref:"input",class:r(a(o)("skipperInput",[t])),onBlur:T,onConfirm:R},null,8,["modelValue","class"])),[[c,void 0,void 0,{int:!0}]])],64))),128))],2),D(p,{class:r(["p-paginator-next",a(o)("controlButton",["last"],{disabled:s.value===a(l)})]),onClick:e[4]||(e[4]=C(t=>y(s.value+1),["prevent","stop"]))},{default:B(()=>e[7]||(e[7]=[O("span",{class:"pi pi-angle-right"},null,-1)])),_:1},8,["class"])],2)]),_:1},8,["rows","total-records"])}}});function ie(v,s){const d=M(1),g=M(s),u=m(()=>(d.value-1)*g.value),l=m(()=>u.value+g.value),f=m(()=>U(v).length),k=m(()=>U(v).slice(u.value,l.value));return{page:d,itemsPerPage:g,itemsAmount:f,displayedItems:k}}export{oe as _,ie as u};
